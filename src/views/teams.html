<div ng-controller="teamsCtrl" id="teams">
    <p class="pull-right">
        <button ng-class="{active:editMode}" class="btn" ng-click="editMode=!editMode">
            <i class="icon-edit"></i> Edit
        </button>
    </p>
    <p class="pull-right">
        <button class="btn" ng-click="load()">
            <i class="icon-cloud-download"></i>
            Load
        </button>
    </p>
    <h5>&nbsp;<i ng-show="saving" class="icon-save"></i></h5>
    <div class="alert alert-info" ng-show="status">
        <button type="button" class="close" ng-click="status=''">&times;</button>
        {{status}}
    </div>
    <form class="form-inline" name="newTeamForm" ng-show="editMode">
        <p>
            <span class="control-group" ng-class="{error:!newTeamForm.newTeamNumber.$valid}">
                <label class="control-label">
                    Number:
                    <input type="text" name="newTeamNumber" ng-pattern="teamNumberPattern" class="input-small" ng-model="newTeam.number" size="4" required>
                </label>
            </span>
            <span class="control-group">
                <label class="control-label">
                    Name:
                    <input type="text" ng-model="newTeam.name" required>
                </label>
            </span>
            <button class="btn" ng-click="addTeam()" ng-disabled="!newTeamForm.$valid">Add team</button>
        </p>
    </form>

    <table class="table table-bordered table-striped table-teams">
        <thead>
            <tr>
                <th ng-click="sort='team.number';rev=true">#</th>
                <th ng-click="sort='team.name';rev=false">Name</th>
                <th ng-click="sort='team.affiliation';rev=false">Affiliation</th>
                <th ng-click="sort='team.cityState';rev=false">City (State)</th>
                <th ng-click="sort='team.country';rev=false">Country</th>
                <th ng-click="sort='team.coach1';rev=false">Coach 1</th>
                <th ng-click="sort='team.coach2';rev=false">Coach 2</th>
                <th ng-click="sort='team.judgingGroup';rev=false">Judging Group</th>
                <th ng-click="sort='team.pitLocation';rev=false">Pit Location</th>
                <th ng-click="sort='team.translationNeeded';rev=false">Translation</th>
                <th></th>
            </tr>
        </thead>
        <tr ng-repeat="team in teams | index | orderBy:sort:rev">
            <td>{{team.number}}</td>
            <td>{{team.name}}</td>
            <td>{{team.cityState}}</td>
            <td>{{team.country}}</td>
            <td>{{team.affiliation}}</td>
            <td>{{team.coach1}}</td>
            <td>{{team.coach2}}</td>
            <td>{{team.judgingGroup}}</td>
            <td>{{team.pitLocation}}</td>
            <td><i ng-show="team.translationNeeded===true" class="icon-ok"></i></td>
            <td>
                <span ng-show="editMode">
                    <i class="icon-trash" title="delete" fll-really-message="Sure to delete this team?" fll-really-click="removeTeam($index)"></i>
                </span>
            </td>
        </tr>
    </table>
</div>
